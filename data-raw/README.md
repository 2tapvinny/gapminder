Data cleaning
================

I explicitly use this package to teach data cleaning, so have refactored my old cleaning code into several scripts. I also include them as compiled Markdown reports. Caveat: these are realistic cleaning scripts! Not the highly polished ones people write with 20/20 hindsight :) I wouldn't necessarily clean it the same way again (and I would download more recent data!), but at this point there is great value in reproducing the data I've been using for ~5 years.

Cleaning history

-   2010: The first time I documented cleaning this dataset. I started with delimited files I exported from Excel. Not present in this repo.
-   2014: I re-cleaned the data and (mostly) forced myself to pull it straight out of the spreadsheets. Used the `gdata` package. It was kind of painful, due to encoding and other issues. See the scripts in this state in [v0.1.0](https://github.com/jennybc/gapminder/tree/v0.1.0/data-raw).
-   2015: I revisited the cleaning and switched to `readxl`. This was much less painful. Present day.

<!-- -->

    ## + ggplot2 2.2.1             Date: 2017-10-31
    ## + tibble  1.3.4                R: 3.4.1
    ## + tidyr   0.7.1               OS: macOS Sierra 10.12.6
    ## + readr   1.1.1              GUI: X11
    ## + purrr   0.2.3.9000      Locale: en_CA.UTF-8
    ## + dplyr   0.7.4               TZ: America/Vancouver
    ## + stringr 1.2.0.9000      
    ## + forcats 0.2.0

    ## ── Conflicts ────────────────────────────────────────────────────

    ## * filter(),  from dplyr, masks stats::filter()
    ## * lag(),     from dplyr, masks stats::lag()

    ## here() starts at /Users/jenny/rrr/gapminder

| r\_script                                                                                                                                       | notebook                                                                                                                                          | tsv                                                                                                                                                                                                                                                  |
|:------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [/Users/jenny/rrr/gapminder/data-raw/01\_extract-from-excel-pop.R](/Users/jenny/rrr/gapminder/data-raw/01_extract-from-excel-pop.R)             | [/Users/jenny/rrr/gapminder/data-raw/01\_extract-from-excel-pop.md](/Users/jenny/rrr/gapminder/data-raw/01_extract-from-excel-pop.md)             | [/Users/jenny/rrr/gapminder/data-raw/01\_pop.tsv](/Users/jenny/rrr/gapminder/data-raw/01_pop.tsv)                                                                                                                                                    |
| [/Users/jenny/rrr/gapminder/data-raw/02\_extract-from-excel-lifeExp.R](/Users/jenny/rrr/gapminder/data-raw/02_extract-from-excel-lifeExp.R)     | [/Users/jenny/rrr/gapminder/data-raw/02\_extract-from-excel-lifeExp.md](/Users/jenny/rrr/gapminder/data-raw/02_extract-from-excel-lifeExp.md)     | [/Users/jenny/rrr/gapminder/data-raw/02\_lifeExp.tsv](/Users/jenny/rrr/gapminder/data-raw/02_lifeExp.tsv)                                                                                                                                            |
| [/Users/jenny/rrr/gapminder/data-raw/03\_extract-from-excel-gdpPercap.R](/Users/jenny/rrr/gapminder/data-raw/03_extract-from-excel-gdpPercap.R) | [/Users/jenny/rrr/gapminder/data-raw/03\_extract-from-excel-gdpPercap.md](/Users/jenny/rrr/gapminder/data-raw/03_extract-from-excel-gdpPercap.md) | [/Users/jenny/rrr/gapminder/data-raw/03\_gdpPercap.tsv](/Users/jenny/rrr/gapminder/data-raw/03_gdpPercap.tsv)                                                                                                                                        |
| [/Users/jenny/rrr/gapminder/data-raw/04\_merge-pop-lifeExp-gdpPercap.R](/Users/jenny/rrr/gapminder/data-raw/04_merge-pop-lifeExp-gdpPercap.R)   | [/Users/jenny/rrr/gapminder/data-raw/04\_merge-pop-lifeExp-gdpPercap.md](/Users/jenny/rrr/gapminder/data-raw/04_merge-pop-lifeExp-gdpPercap.md)   | [/Users/jenny/rrr/gapminder/data-raw/04\_gap-merged.tsv](/Users/jenny/rrr/gapminder/data-raw/04_gap-merged.tsv)                                                                                                                                      |
| [/Users/jenny/rrr/gapminder/data-raw/05\_impute-china-1952-gdpPercap.R](/Users/jenny/rrr/gapminder/data-raw/05_impute-china-1952-gdpPercap.R)   | [/Users/jenny/rrr/gapminder/data-raw/05\_impute-china-1952-gdpPercap.md](/Users/jenny/rrr/gapminder/data-raw/05_impute-china-1952-gdpPercap.md)   | [/Users/jenny/rrr/gapminder/data-raw/05\_gap-merged-with-china-1952.tsv](/Users/jenny/rrr/gapminder/data-raw/05_gap-merged-with-china-1952.tsv)                                                                                                      |
| [/Users/jenny/rrr/gapminder/data-raw/06\_smell-test-gap-merged.R](/Users/jenny/rrr/gapminder/data-raw/06_smell-test-gap-merged.R)               | [/Users/jenny/rrr/gapminder/data-raw/06\_smell-test-gap-merged.md](/Users/jenny/rrr/gapminder/data-raw/06_smell-test-gap-merged.md)               | []()                                                                                                                                                                                                                                                 |
| [/Users/jenny/rrr/gapminder/data-raw/07\_fill-and-fix-continent.R](/Users/jenny/rrr/gapminder/data-raw/07_fill-and-fix-continent.R)             | [/Users/jenny/rrr/gapminder/data-raw/07\_fill-and-fix-continent.md](/Users/jenny/rrr/gapminder/data-raw/07_fill-and-fix-continent.md)             | [/Users/jenny/rrr/gapminder/data-raw/07\_gap-merged-with-continent.tsv](/Users/jenny/rrr/gapminder/data-raw/07_gap-merged-with-continent.tsv)                                                                                                        |
| [/Users/jenny/rrr/gapminder/data-raw/08\_filter-every-five-years.R](/Users/jenny/rrr/gapminder/data-raw/08_filter-every-five-years.R)           | [/Users/jenny/rrr/gapminder/data-raw/08\_filter-every-five-years.md](/Users/jenny/rrr/gapminder/data-raw/08_filter-every-five-years.md)           | [/Users/jenny/rrr/gapminder/data-raw/08\_gap-every-five-years.tsv](/Users/jenny/rrr/gapminder/data-raw/08_gap-every-five-years.tsv)                                                                                                                  |
| [/Users/jenny/rrr/gapminder/data-raw/09\_add-data-to-package.R](/Users/jenny/rrr/gapminder/data-raw/09_add-data-to-package.R)                   | [/Users/jenny/rrr/gapminder/data-raw/09\_add-data-to-package.md](/Users/jenny/rrr/gapminder/data-raw/09_add-data-to-package.md)                   | []()                                                                                                                                                                                                                                                 |
| [/Users/jenny/rrr/gapminder/data-raw/10\_iso-codes.R](/Users/jenny/rrr/gapminder/data-raw/10_iso-codes.R)                                       | [/Users/jenny/rrr/gapminder/data-raw/10\_iso-codes.md](/Users/jenny/rrr/gapminder/data-raw/10_iso-codes.md)                                       | [/Users/jenny/rrr/gapminder/data-raw/10\_iso-codes.tsv](/Users/jenny/rrr/gapminder/data-raw/10_iso-codes.tsv)                                                                                                                                        |
| [/Users/jenny/rrr/gapminder/data-raw/40\_make-color-scheme.R](/Users/jenny/rrr/gapminder/data-raw/40_make-color-scheme.R)                       | [/Users/jenny/rrr/gapminder/data-raw/40\_make-color-scheme.md](/Users/jenny/rrr/gapminder/data-raw/40_make-color-scheme.md)                       | [/Users/jenny/rrr/gapminder/data-raw/40\_continent-colors.tsv](/Users/jenny/rrr/gapminder/data-raw/40_continent-colors.tsv), [/Users/jenny/rrr/gapminder/data-raw/40\_country-colors.tsv](/Users/jenny/rrr/gapminder/data-raw/40_country-colors.tsv) |
| [/Users/jenny/rrr/gapminder/data-raw/80\_custom-spelling.R](/Users/jenny/rrr/gapminder/data-raw/80_custom-spelling.R)                           | []()                                                                                                                                              | []()                                                                                                                                                                                                                                                 |
